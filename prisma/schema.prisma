generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Property {
  idProperty       Int              @id @default(autoincrement()) @map("id_property")
  description      String?
  price            Int
  type             PropertyTypeEnum
  category         OperationEnum
  address          String?
  ubication        String?
  city             String?
  surface          Int
  bedrooms         Int?
  bathrooms        Int?
  garage           Int?
  floors           Int?
  constructed_area Int?
  images           image[]

  @@map("property")
}

model Admin {
  idAdmin       Int    @id @default(autoincrement()) @map("id_admin")
  adminEmail    String @map("admin_email") @db.VarChar(255)
  adminPassword String @map("admin_password") @db.VarChar(255)

  @@map("admin")
}

model image {
  idImage    Int       @id @default(autoincrement()) @map("id_image")
  url        String?
  idProperty Int?      @map("id_property")
  property   Property? @relation(fields: [idProperty], references: [idProperty], onDelete: Cascade, map: "fk_image_propery")
}

model services {
  id   Int     @id
  name String?
}

model services_property {
  id_property Int
  id_service  Int

  @@id([id_property, id_service])
}

enum PropertyTypeEnum {
  casa
  departamento
  campo
  local_comercial
  lote

  @@map("property_type_enum")
}

enum OperationEnum {
  alquiler
  venta

  @@map("operation_enum")
}

enum CharacteristicCategoryEnum {
  superficie_total
  superficie_descubierta
  superficie_semicubierta
  superficie_cubierta
  ambientes
  dormitorios
  dormitorios_suite
  banos
  cocheras
  cobertura_cochera
  balcon_terraza
  expensas
  fecha_expensa
  agua
  cantidad_plantas
  tipo_piso
  estado_inmueble
  orientacion
  luminosidad
  disposicion
  antiguedad
  ubicacion_cuadra
  otros

  @@map("characteristic_category_enum")
}
